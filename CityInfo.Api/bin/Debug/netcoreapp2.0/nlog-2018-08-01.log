2018-08-01 23:05:31.7935|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:10477/  0
2018-08-01 23:05:31.7935|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:10477/  
2018-08-01 23:05:31.8700|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:10477/  
2018-08-01 23:05:31.8700|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:10477/  0
2018-08-01 23:05:31.9696|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 276.2566ms 200 
2018-08-01 23:05:31.9696|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 276.2566ms 200 
2018-08-01 23:05:32.0897|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 429.4379ms 404 text/plain
2018-08-01 23:05:32.0897|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 429.4379ms 404 text/plain
2018-08-01 23:05:32.5997|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:10477/favicon.ico  
2018-08-01 23:05:32.5997|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:10477/favicon.ico  
2018-08-01 23:05:32.6282|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 43.7508ms 404 text/plain
2018-08-01 23:05:32.6304|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 43.7508ms 404 text/plain
2018-08-01 23:07:05.6929|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:10477/api/testdatabase  
2018-08-01 23:07:05.6929|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:10477/api/testdatabase  
2018-08-01 23:07:06.6409|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.1-rtm-30846 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-01 23:07:06.6409|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.1.1-rtm-30846 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-01 23:07:18.1241|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (359ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2018-08-01 23:07:18.1241|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (359ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2018-08-01 23:07:18.1878|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2018-08-01 23:07:18.1878|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2018-08-01 23:07:18.3970|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2018-08-01 23:07:18.3970|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2018-08-01 23:07:18.4270|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2018-08-01 23:07:18.4280|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2018-08-01 23:07:18.4755|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_CityId] ON [PointsOfInterest] ([CityId]);
2018-08-01 23:07:18.4755|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_CityId] ON [PointsOfInterest] ([CityId]);
2018-08-01 23:07:18.5187|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method CityInfo.Api.Controllers.DummyController.TestDatabase (CityInfo.Api) with arguments ((null)) - ModelState is Valid
2018-08-01 23:07:18.5187|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method CityInfo.Api.Controllers.DummyController.TestDatabase (CityInfo.Api) with arguments ((null)) - ModelState is Valid
2018-08-01 23:07:18.5517|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing HttpStatusCodeResult, setting HTTP status code 200
2018-08-01 23:07:18.5517|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing HttpStatusCodeResult, setting HTTP status code 200
2018-08-01 23:07:18.6037|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action CityInfo.Api.Controllers.DummyController.TestDatabase (CityInfo.Api) in 12796.8085ms
2018-08-01 23:07:18.6037|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action CityInfo.Api.Controllers.DummyController.TestDatabase (CityInfo.Api) in 12796.8085ms
2018-08-01 23:07:18.6340|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 12927.9179ms 200 
2018-08-01 23:07:18.6340|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 12927.9179ms 200 
